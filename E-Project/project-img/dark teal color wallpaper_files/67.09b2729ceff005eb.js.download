!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7560b1bd-969c-4fdd-a8a3-6dddcd55b53b",e._sentryDebugIdIdentifier="sentry-dbid-7560b1bd-969c-4fdd-a8a3-6dddcd55b53b")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{9217:function(e,t,n){"use strict";n.d(t,{Bx:function(){return o},LI:function(){return l},PS:function(){return s},pt:function(){return i},tu:function(){return a}}),n(6672);var r=n(22319),l=(0,r.c)({defaultClassName:"_1nit3sv0 $flex $flex-col sm:$flex-row $justify-center $items-center $gap-10 $flex-1 sm:$flex-none $z-0 $border-0 sm:$border $rounded border-surface-1 $min-w-40 $min-h-40 $transition-colors $bg-transparent hover:$bg-grayHeather/10 text-surface-foreground-0",variantClassNames:{withLabel:{true:"$px-0 sm:$px-20"}},defaultVariants:{withLabel:!1},compoundVariants:[]}),o="$flex $gap-10",i="$flex $gap-10 $flex-col",s=(0,r.c)({defaultClassName:"_1nit3sv2 $whitespace-normal $font-normal sm:$font-semibold $sprinkles-text-2xs sm:$sprinkles-text-sm $text-surface-foreground-0",variantClassNames:{alwaysVisible:{true:"$block",false:"$block sm:$hidden"}},defaultVariants:{alwaysVisible:!1},compoundVariants:[]}),a="$shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $rounded-md $overflow-hidden $w-300 $max-w-[100vw] $p-20 $flex $flex-col $gap-10 $bg-surface-0 dark:bg-surface-1"},67677:function(e,t,n){"use strict";n.d(t,{D:function(){return j}});var r=n(97458),l=n(23113),o=n(2200),i=n(19974),s=n(48681),a=n(47152),c=n(86101),u=n(34854),d=n(770),f=n(9249),m=n(80712),x=n(10893),h=n(52983),p=n(9217),v=n(26013),b=n(11031);let g=(0,h.forwardRef)((e,t)=>{let{isCollapsed:n,onClick:o,mode:i,tooltipProps:s={side:"top"},buttonClassName:a,labelClassName:h,showLabel:g=!0,oldStyle:w=!1}=e,{t:y}=(0,x.$G)("detailCommon"),$=(0,l.a)("lg"),j=(0,u.nD)(),C=y("saveToCollection"),_=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.T,{children:C}),(0,r.jsx)(d.J,{as:m.Z,size:"base"})]}),k=w?b.Mw:v.aD,I=(0,r.jsxs)("button",{className:n?v.tw:k,onClick:o,"data-cy":"add-to-collection-thumbnail",ref:t,children:[_,n&&(0,r.jsx)("span",{children:C})]});return("large"===i&&(I=(0,r.jsxs)("button",{className:null!=a?a:p.LI(),onClick:o,ref:t,children:[_,g&&(0,r.jsx)("span",{className:null!=h?h:p.PS(),children:C})]})),!$||n)?I:(0,r.jsx)(c.u,{...s,trigger:I,triggerAsChild:!0,hideOnLeaveHover:!0,container:j.current,children:C})});var w=n(78238),y=n(79187),$=n(88659);let j=e=>{let{type:t,id:n,mode:c,location:u,tooltipProps:d,buttonClassName:f,labelClassName:m,showLabel:x=!0,renderTrigger:h,isMenuAction:p,withProvider:v=!0}=e,{onButtonOpenClick:b,isOpen:j,handleOpenChange:C}=(0,$.r)(),_=(0,l.a)("smMax"),k=(0,o.n)(),I=(0,a.U)().isCollapsed,N=h?h({onClick:b}):(0,r.jsx)(g,{isCollapsed:I,onClick:b,mode:null!=c?c:"normal",tooltipProps:d,buttonClassName:f,showLabel:x,labelClassName:m,oldStyle:"icon"===t}),R=v?(0,r.jsx)(y.u,{id:n,type:t,location:u,children:(0,r.jsx)(w.L,{type:t,id:n})}):(0,r.jsx)(w.L,{type:t,id:n});return _?(0,r.jsxs)(r.Fragment,{children:[N,(0,r.jsx)(s.u,{open:j,onOpenChange:C,fullHeight:!0,size:"full",paddingY:"none",paddingX:"none",thumbnail:!0,children:R})]}):(0,r.jsxs)(i.fC,{open:j,onOpenChange:C,children:[(0,r.jsx)(i.xz,{asChild:!0,children:N}),(0,r.jsx)(i.h_,{container:null==k?void 0:k.current,children:(0,r.jsx)(i.VY,{align:"start",side:"left",sideOffset:6,onInteractOutside:e=>p&&e.preventDefault(),children:R})})]})}},1557:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});let r=(0,n(52983).createContext)({})},79187:function(e,t,n){"use strict";n.d(t,{u:function(){return I}});var r=n(97458),l=n(52983),o=n(23113),i=n(27793),s=n(91394),a=n(19170),c=n(8321);let u=()=>(0,l.useCallback)(e=>{let{collectionId:t,collectionName:n,fileId:r,location:l}=e;(0,c.sendGTMEvent)({collection_id:t,collection_name:n,event_name:"add_to_collection",event:"ga4event",file_id:r,location:l})},[]),d=()=>(0,l.useCallback)(e=>{let{location:t,fileId:n}=e;(0,c.sendGTMEvent)({event:"ga4event",event_name:"collect",location:t,file_id:n})},[]);var f=n(6418),m=n(63202);let x=async e=>{let{id:t,collectionId:n,resourceType:r}=e,l=new URLSearchParams;return l.append("collectionId",n.toString()),l.set("resourceType",r),await (0,m.c)("/api/user/resources/".concat(t,"/collections?").concat(l.toString()),"DELETE")},h=async e=>{let{id:t,collectionId:n,resourceType:r}=e;return await (0,m.c)("/api/user/resources/".concat(t,"/collections"),"POST",{collectionId:n,resourceType:r})};var p=n(58058),v=n.n(p),b=n(10893);let g=()=>{let{t:e}=(0,b.$G)("detailCommon");return(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 py-2 text-sm text-surface-foreground-1",children:[(0,r.jsx)("span",{className:"whitespace-nowrap text-sm font-semibold text-surface-foreground-1",children:e("savedSuccessfully")}),(0,r.jsx)(v(),{href:"/user/collections",legacyBehavior:!0,children:(0,r.jsx)("span",{className:"cursor-pointer whitespace-nowrap text-xs font-normal !text-surface-foreground-accent-0",children:e("seeMyCollections")})})]})},w=e=>{let{type:t,id:n,location:c}=e,[m,p]=(0,l.useState)(!1),[v,b]=(0,l.useState)(!1),w=(0,f.gx)(),{openToast:y}=(0,a.x_)(),$=u(),j=(0,o.a)("smMax"),C=(0,s.d)(),{loginUrl:_,setLoginCookies:k}=(0,i.J)(),I=d(),N=(0,l.useCallback)(async(e,l)=>{try{p(!0),await h({id:n,collectionId:e,resourceType:t}),$({fileId:n,collectionId:e,collectionName:l,location:c}),y({message:(0,r.jsx)(g,{}),showIcon:!1,showCloseButton:!1,position:j?"bottom-center":"top-right"}),w()}catch(e){console.error(e),y()}finally{p(!1),j&&b(!1)}},[n,t,$,c,y,j,w,b]);return{isOpen:v,loading:m,setIsOpen:b,handleAddToCollection:N,handleRemoveFromCollection:(0,l.useCallback)(async e=>{try{p(!0),await x({id:n,collectionId:e,resourceType:t}),w()}catch(e){console.error(e),y()}finally{p(!1)}},[n,w,y,t]),onButtonOpenClick:()=>{if(!C){k(),window.location.href=_;return}w(),b(!0),I({location:c,fileId:n})},handleOpenChange:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];b(e)}}};var y=n(7616),$=n(94498),j=n(99);let C=()=>{let{data:e,meta:{pagination:{nextPage:t}}}=(0,y.Dv)($.HQ);return{collections:e,nextPage:t}},_=()=>{let{collections:e,nextPage:t}=C(),[n,r]=(0,l.useState)([]),o=(0,y.b9)($.GD),i=(0,l.useRef)();(0,l.useEffect)(()=>{(null==e?void 0:e.length)>0&&r(e.map(j.V))},[e,t]);let s=null!==t,a=t=>{r((null==e?void 0:e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))).map(j.V))},c=async e=>{i.current&&clearTimeout(i.current),i.current=setTimeout(async()=>{o(e)},350)};return{isSearchByApi:s,searchCollections:n,handleSearch:e=>{s?c(e):a(e)}}};var k=n(1557);let I=e=>{let{children:t,id:n,type:o,location:i}=e,{handleAddToCollection:s,handleRemoveFromCollection:a,loading:c,isOpen:u,setIsOpen:d,onButtonOpenClick:f,handleOpenChange:m}=w({type:o,id:n,location:i}),{searchCollections:x,isSearchByApi:h,handleSearch:p}=_(),v=(0,l.useMemo)(()=>({id:n,type:o,loading:c,isOpen:u,searchCollections:x,isSearchByApi:h,setIsOpen:d,handleSearch:p,handleAddToCollection:s,handleRemoveFromCollection:a,onButtonOpenClick:f,handleOpenChange:m}),[s,a,p,n,u,h,c,x,d,f,m,o]);return(0,r.jsx)(k.U.Provider,{value:v,children:t})}},88659:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(52983),l=n(1557);let o=()=>(0,r.useContext)(l.U)},99:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});let r=e=>{var t,n;return{id:e.id,name:e.name,author:(null===(t=e.author)||void 0===t?void 0:t.name)||void 0,hasResourceInCollection:e.hasResourceInCollection,preview:null===(n=e.previews[0])||void 0===n?void 0:n.url}}},38741:function(e,t,n){"use strict";n.r(t),n.d(t,{AddToCollection:function(){return r.D}});var r=n(67677)},74801:function(e,t,n){"use strict";n.d(t,{R:function(){return d}});var r=n(97458),l=n(23113),o=n(53344),i=n.n(o),s=n(52983),a=n(19186),c=n(71788),u=n(67651);let d=e=>{let{item:t,position:o,fromView:d,children:f,isModal:m,priority:x,uuid:h,resizeParameter:p,blockViewSimilar:v}=e,b=i()(()=>Promise.resolve().then(n.bind(n,19186)).then(e=>e.ActionsThumbnail),{loadableGenerated:{webpack:()=>[19186]},ssr:!1}),{id:g,name:w,author:y,type:$,preview:{url:j},premium:C,slug:_,isEditableInWepik:k,isEditableInMockup:I,isAIGenerated:N,url:R}=t,S="".concat((0,c.k)(C,$),"/").concat(_,"_").concat(g,".htm"),D=(0,s.useRef)(null),T=(0,l.a)("sm"),E=!(0,u.h)(y.id);return(0,r.jsx)(a.ImageThumbnail,{item:t,position:o,fromView:d,ref:D,isModal:m,dataCy:"resource-thumbnail",priority:x,uuid:h,resizeParameter:p,blockViewSimilar:v,children:T&&(0,r.jsx)(b,{id:g,name:w,author:y,media:j,url:S,description:w,isDownloadEnabled:E,thumbnailRef:D,width:t.preview.width,height:t.preview.height,isEditableInWepik:k,isEditableInMockup:I,premium:C,type:$,isAIGenerated:N,detailLink:R,fromView:d,children:f})})}},80719:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(63202);let l=e=>{let{page:t,resourceId:n,searchTerm:l,collectionIds:o,ownership:i}=e,s=o?o.join(","):void 0,a={page:"".concat(t),...n&&{resourceId:"".concat(n)},...l&&{"filter[term]":l},...s&&{"filter[ids]":s},...i&&{"filter[ownership]":i}},c="/api/user/collections?".concat(new URLSearchParams(a));return(0,r.c)(c,"GET")}},6418:function(e,t,n){"use strict";n.d(t,{lL:function(){return d},gx:function(){return f}});var r=n(78511),l=n(25288),o=n(7616),i=n(52983),s=n(80719),a=n(94498);let c=["collections","all"],u=e=>{let{page:t,searchTerm:n,resourceId:r}=e;return{queryKey:[...c,{page:t,resourceId:r,searchTerm:n}],queryFn:async()=>{let{data:e,success:l}=await (0,s.X)({page:t,resourceId:r,searchTerm:n});if(!l)throw Error(e);return e}}},d=e=>{let{page:t=1,resourceId:n}=e,l=(0,o.Dv)(a.GD);return(0,r.a)(u({page:t,searchTerm:l,resourceId:null!=n?n:null}))},f=()=>{let e=(0,l.NL)();return(0,i.useCallback)(()=>{e.invalidateQueries({queryKey:c})},[e])}},94498:function(e,t,n){"use strict";n.d(t,{GD:function(){return l},HQ:function(){return o},w0:function(){return i}});var r=n(24399);let l=(0,n(73139).rw)(null),o=(0,r.cn)({data:[],meta:{pagination:{nextPage:null,perPage:0,prevPage:null,currentPage:0}}}),i=(0,r.cn)([])},44932:function(e,t,n){"use strict";n.d(t,{D:function(){return l},Gs:function(){return o},Lq:function(){return u},d2:function(){return c},rQ:function(){return i},yr:function(){return a}});var r=n(24399);let l=(0,r.cn)(null),o=(0,r.cn)(null),i=(0,r.cn)(e=>t=>{var n;return(null!==(n=e(o))&&void 0!==n?n:{})[t]},(e,t,n,r)=>{var l;let i=null!==(l=e(o))&&void 0!==l?l:{};t(o,{...i,[n]:r})}),s=(0,r.cn)(null),a=(0,r.cn)(e=>t=>{var n;return(null!==(n=e(s))&&void 0!==n?n:{})[t]},(e,t,n,r)=>{var l;let o=null!==(l=e(s))&&void 0!==l?l:{};t(s,{...o,[n]:r})}),c=(0,r.cn)(null),u=(0,r.cn)(!1)},73527:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(32950),l=n(10934);let o=["icon","video","font"],i=()=>{let e=(0,r.Jn)("type");return!!(0,l.i)()||!(e&&o.includes(e))}},61462:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(97458),l=n(40409);let o=e=>{let{children:t,...n}=e;return(0,r.jsx)(l.t.Provider,{value:n,children:t})}},37983:function(e,t,n){"use strict";n.r(t),n.d(t,{UserRecommendations:function(){return k}});var r=n(97458),l=n(23113),o=n(68147),i=n(60826),s=n(10893),a=n(52983),c=n(58750),u=n(81157),d=n(35576);let f=e=>{let{event:t,idUser:n,resources:r,walletIdParam:l}=e,o=r.map(e=>"".concat(e.idResource,"-").concat(e.type)).join("%20");return"send&event&".concat(t,"&user_id=").concat(n,"&items=").concat(o).concat(l)},m=e=>{let{resources:t,idUser:n,walletIdParam:r}=e;if(!n||!t)return;let l=f({event:"first-view-recommended",idUser:n,resources:t,walletIdParam:r});(0,d.OA)(l)},x=e=>{let{resources:t,idUser:n,walletIdParam:r}=e;if(!n||!t)return;let l=f({event:"click-recommended",idUser:n,resources:t,walletIdParam:r});(0,d.OA)(l)},h=e=>{let{resources:t,idUser:n,walletIdParam:r}=e;if(!n||!t)return;let l=f({event:"click-view-more",idUser:n,resources:t,walletIdParam:r});(0,d.OA)(l)};var p=n(7009),v=e=>{let{setHasToShowAll:t,hasToShowAll:n,items:l,maxItems:o,isMobile:i,idUser:c}=e,{t:d}=(0,s.$G)("home"),f=(0,a.useRef)(null),m=(0,p.J)(),x=d("home:recommendedButton"),v=l.length>o;return!n&&v&&i&&(0,r.jsx)("div",{className:"$flex $justify-center $mt-30",children:(0,r.jsx)(u.gg,{onClick:()=>{t(!0),h({resources:f.current,idUser:c,walletIdParam:m})},"aria-label":x,className:"$bg-grayEbony hover:$bg-grayOxford $rounded $gap-10 $border-white","data-testid":"button-more",children:x})})},b=n(78364),g=n(38741),w=n(74801),y=(e,t)=>{let[n,r]=(0,a.useState)(!1),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{l.current=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!n&&(r(!0),e(),l.current&&l.current.disconnect())})},t);let o=l.current;return()=>{o&&o.disconnect()}},[e,t,n]),{observe:e=>{l.current&&e&&l.current.observe(e)}}},$=(e,t,n,r)=>{let l=(0,a.useRef)(null),o=(0,a.useRef)(null),i=(0,p.J)();return l.current=e.slice(0,t).map(e=>({idResource:e.id,type:e.type})),o.current=e.slice(t,n).map(e=>({idResource:e.id,type:e.type})),{itemsIdsShowing:l,onClickItem:()=>{x({resources:l.current,idUser:r,walletIdParam:i})}}},j=n(61462);n(47463);var C=e=>{let{items:t,idUser:n,hasToShowAll:l,maxItems:o,maxItemsOpen:i,divRef:s}=e,{itemsIdsShowing:c,onClickItem:u}=$(t,o,i,n),d=(0,p.J)(),{observe:f}=y(()=>m({resources:c.current,idUser:n,walletIdParam:d}));return(0,a.useEffect)(()=>{s.current&&f(s.current)},[f,s]),(0,r.jsx)(j.b,{fromView:"user_recommendations_home",items:t,children:t.map(e=>(0,r.jsx)("div",{className:(0,b.W)({_1s5uvum0:l,_1s5uvum1:!l}),onClick:u,children:(0,r.jsx)(w.R,{item:e,isModal:!1,children:(0,r.jsx)(g.AddToCollection,{type:e.type,id:e.id,location:"thumbnail",tooltipProps:{side:"left"}})})},"thumbnail-".concat(e.id)))})};let _=e=>{let{items:t}=e,{t:n}=(0,s.$G)("home"),[u,d]=(0,a.useState)(!1),f=(0,a.useRef)(null),m=(0,o.I)(),x=(0,l.a)("xsMax");return(0,r.jsxs)("div",{className:"mx-auto mt-10 w-full max-w-screen-2xl px-5",ref:f,children:[(0,r.jsx)("h2",{className:"mb-7 text-left text-lg font-normal leading-snug text-surface-foreground-0",children:n("selectedContentForYou")}),(0,r.jsx)(i.e,{children:(0,r.jsx)(c.n,{vertical:"home_recommendations",children:(0,r.jsx)(C,{items:t,hasToShowAll:u,idUser:m,maxItems:12,maxItemsOpen:12,divRef:f})})}),(0,r.jsx)(v,{setHasToShowAll:d,hasToShowAll:u,items:t,maxItems:12,isMobile:x,idUser:m})]})},k=e=>{let{items:t}=e;return t.length?(0,r.jsx)(_,{items:t}):null}},39597:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var r=n(97458),l=n(52983),o=n(40197);let i=(0,n(57291).j)(["w-full rounded border border-form-border-0 bg-form-0 px-3 transition-colors","placeholder:text-form-field-foreground-0 text-form-foreground-1","hover:border-surface-border-1","focus:outline-none focus:border-primary-0 focus:ring-1 focus:ring-surface-border-1","disabled:opacity-50 disabled:cursor-not-allowed"],{variants:{size:{md:"h-10 text-sm",lg:"h-12 text-base"},variant:{default:"border-form-border-0 active:border-primary-0",error:"border-2 border-negative-500 dark:border-malaga-red-600"}},defaultVariants:{size:"md",variant:"default"}}),s=(0,l.forwardRef)((e,t)=>{let{variant:n,size:l,className:s,...a}=e;return(0,r.jsx)("input",{...a,ref:t,className:(0,o.m6)(i({variant:n,size:l}),s)})});s.displayName="Input"},46914:function(e,t,n){"use strict";var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M127 552.25a24.92 24.92 0 0 1-17.678-7.322l-101-101c-9.763-9.763-9.763-25.593 0-35.355 9.764-9.764 25.592-9.764 35.355 0l83.339 83.34 243.323-242.857c9.771-9.754 25.602-9.74 35.355.033 9.754 9.772 9.739 25.602-.033 35.355l-261 260.5A24.92 24.92 0 0 1 127 552.25"})})},80712:function(e,t,n){"use strict";var r=n(97458);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M257.8 409.8H70c-8.3 0-15-6.7-15-15v-177h392v40c0 13.8 11.2 25 25 25s25-11.2 25-25v-115c0-35.8-29.2-65-65-65H203.3c-6.8-28.6-32.6-50-63.3-50H70c-35.8 0-65 29.2-65 65v302c0 35.8 29.2 65 65 65h187.8c13.8 0 25-11.2 25-25s-11.2-25-25-25M70 77.8h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15v25H55v-75c0-8.3 6.7-15 15-15"}),(0,r.jsx)("path",{d:"M490.2 325.3c-21.2-20.8-55.4-21.3-77.2-1.2-3.5 3.2-6.5 6.8-9 10.6-2.5-3.8-5.5-7.4-9-10.6-21.8-20.1-56-19.6-77.2 1.2-22.3 21.9-22.5 57.7-.4 79.7l74 74c7 7 18.3 7 25.2 0l74-74c22-22 21.9-57.8-.4-79.7"})]})},49168:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});let r=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),l=()=>null===crypto||"function"!=typeof crypto.randomUUID?r():crypto.randomUUID()},6672:function(){},47463:function(){}}]);