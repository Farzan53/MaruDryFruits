!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1ba6dec7-4d88-484c-9d26-9c4511403e0a",e._sentryDebugIdIdentifier="sentry-dbid-1ba6dec7-4d88-484c-9d26-9c4511403e0a")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9610,5508],{40552:function(e,t,n){n.d(t,{E8:function(){return o},v7:function(){return r}});var r="text-surface-accent-0 $block $cursor-pointer $mt-15",o="text-surface-accent-0 $cursor-pointer"},56775:function(e,t,n){n.d(t,{X:function(){return a}});var r=n(97458),o=n(40552);let a=e=>{let{children:t,onClick:n}=e;return(0,r.jsx)("span",{className:o.v7,onClick:n,children:t})}},49058:function(e,t,n){n.d(t,{P:function(){return a}});var r=n(97458),o=n(40552);let a=e=>{let{children:t,onClick:n}=e;return(0,r.jsx)("a",{className:o.E8,onClick:n,children:t})}},98060:function(e,t,n){n.d(t,{w:function(){return c}});var r=n(97458),o=n(10893);let a=e=>{let{onClick:t}=e,{t:n}=(0,o.$G)("iconEditor");return(0,r.jsx)("button",{onClick:t,className:"$font-base text-surface-accent-0",children:n("undo")})},c=e=>{let{callback:t,folderName:n}=e;return(0,r.jsx)(o.cC,{i18nKey:"projects:toast.moveToFolderSuccess",values:{folderName:n},components:{undo:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(a,{onClick:t})]})}})}},84639:function(e,t,n){n.d(t,{M:function(){return a}});var r=n(8321),o=n(52983);let a=()=>(0,o.useCallback)(e=>{let{linkText:t,location:n}=e;(0,r.sendGTMEvent)({event:"ga4event",event_name:"edit_generate",location:n,link_text:t})},[])},54112:function(e,t,n){n.d(t,{Y:function(){return f}});var r=n(97458),o=n(87420),a=n(25288),c=n(19170),l=n(10893),s=n(52983),u=n(63202);let i=async e=>{let{locale:t,filesReference:n,foldersReference:r}=e;return(0,u.c)("/api/user/bulk/purge","PUT",{locale:t,filesReference:n,foldersReference:r})};var d=n(81722);let f=()=>{let{createQueryKeyTrash:e}=(0,d.K)(),t=(0,a.NL)(),{locale:n}=(0,o.Vx)(),u=(0,s.useRef)([]),f=(0,s.useRef)([]),{t:g}=(0,l.$G)("projects"),{openToast:v}=(0,c.x_)(),h=(0,s.useCallback)(n=>{let{filesReference:r,foldersReference:o}=n;r.length>0&&t.setQueryData(e("files"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{files:[]};return{...e,files:e.files.filter(e=>!r.includes(e.reference))}}),o.length>0&&t.setQueryData(e("folders"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{folders:[]};return{...e,folders:e.folders.filter(e=>!o.includes(e.reference))}})},[t,e]);return(0,s.useCallback)(async e=>{let{filesReference:t,foldersReference:o}=e;try{let e;if(f.current=[],u.current=[],!(await i({filesReference:t,foldersReference:o,locale:n})).success)throw Error("Delete failed");h({filesReference:t,foldersReference:o});let a=o.length>0,c=t.length>0,s=o.length,d=t.length,p=0;a&&c?e="projects:toast.purgeBulk":a?(e="projects:toast.purgeFolder",p=s):c&&(e="projects:toast.purgeFile",p=d),v({type:"success",title:g("toast.deleteSuccessTitle"),message:(0,r.jsx)(l.cC,{i18nKey:e,count:p})})}catch(e){v({type:"danger",message:g("error:unknown")})}},[n,v,g,h])}},41084:function(e,t,n){n.d(t,{D:function(){return r}});let r=(0,n(52983).createContext)({})},17995:function(e,t,n){n.d(t,{G:function(){return a}});var r=n(52983),o=n(41084);let a=()=>{let e=(0,r.useContext)(o.D);if(!e)throw Error("useFoldersContext must be used within a ProjectsProvider");return e}},85666:function(e,t,n){n.d(t,{v:function(){return r}});let r=(0,n(52983).createContext)({})},49990:function(e,t,n){n.d(t,{I:function(){return a}});var r=n(52983),o=n(85666);let a=()=>{let e=(0,r.useContext)(o.v);if(!e)throw Error("useProjectsContext must be used within a ProjectsProvider");return e}},47535:function(e,t,n){n.d(t,{B:function(){return o}});var r=n(63202);let o=async e=>{let{locale:t,filesReference:n,folderToMoveReference:o,foldersReference:a}=e;return(0,r.c)("/api/user/bulk/move","PUT",{folderToMoveReference:o,locale:t,filesReference:n,foldersReference:a})}},39875:function(e,t,n){n.d(t,{r:function(){return o}});var r=n(63202);let o=async e=>{let{locale:t,name:n,parentReference:o}=e;return(0,r.c)("/api/user/folders","POST",{locale:t,name:n,parentReference:o})}},97425:function(e,t,n){n.d(t,{$:function(){return o}});var r=n(63202);let o=async e=>{let{name:t,reference:n,parentReference:o,locale:a}=e;return(0,r.c)("/api/user/folders","PUT",{locale:a,name:t,parentReference:o,reference:n})}},81722:function(e,t,n){n.d(t,{K:function(){return a}});var r=n(51780),o=n.n(r);let a=()=>{let e=o().query.page?Number(o().query.page):1;return{createQueryKey:(t,n)=>[t,!1,n,e],createQueryKeyTrash:t=>[t,!0,"",e]}}},71008:function(e,t,n){n.d(t,{c:function(){return i}});var r=n(25976),o=n(19170),a=n(10893),c=n(52983),l=n(17995),s=n(63202);let u=async()=>(0,s.c)("/api/user/workspaces","GET"),i=()=>{let{openToast:e}=(0,o.x_)(),{t}=(0,a.$G)(["error"]),[n,s]=(0,c.useState)([]),{folder:i}=(0,l.G)(),[d,f]=(0,c.useState)(!1),{storedValue:g,setValue:v}=(0,r._)("UNITY_WORKSPACE",""),h=(null==n?void 0:n.length)>1;return(0,c.useEffect)(()=>{(async()=>{let n=await u();n.success&&"string"!=typeof n.data&&n.data?s(n.data.folders):e({type:"danger",message:t("error:unknown")})})()},[e,t]),(0,c.useEffect)(()=>{void 0!==i&&f(!0)},[i]),(0,c.useEffect)(()=>{var e,t;if(d){if(1===n.length){v(null!==(e=n[0].reference)&&void 0!==e?e:"");return}(null==i?void 0:i.reference)||v(""),n.some(e=>e.reference===(null==i?void 0:i.reference))&&g!==(null==i?void 0:i.reference)&&v(null!==(t=null==i?void 0:i.reference)&&void 0!==t?t:"")}},[n,i,null==i?void 0:i.reference,g,v,d]),{workspaceReference:g,allWorkspaces:n,setWorkspace:v,hasMoreWorkspaces:h}}},49550:function(e,t,n){n.d(t,{b:function(){return r}});let r=(0,n(52983).createContext)({})},39155:function(e,t,n){n.d(t,{q:function(){return a}});var r=n(52983),o=n(49550);let a=()=>(0,r.useContext)(o.b)},57869:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(96295);let o="projectsUserActions",a=e=>{let t=localStorage.getItem(o),n=t?JSON.parse(t):[],r=parseInt(localStorage.getItem("lastSurveyTimestamp")||"",10);if(n.length>=2){let t=new Date().getTime();(!r||t-Number(r)>2592e6)&&(setTimeout(()=>{e()},800),localStorage.setItem("lastSurveyTimestamp",t.toString()),localStorage.removeItem(o))}};var c=()=>{let e=(0,r.d)();return t=>{let n=localStorage.getItem(o);if(!n){localStorage.setItem(o,JSON.stringify([t]));return}let r=JSON.parse(n)||[];r.includes(t)||(r.push(t),localStorage.setItem(o,JSON.stringify(r)),a(e))}}},96295:function(e,t,n){n.d(t,{d:function(){return a}});var r=n(65508),o=n(52983);let a=()=>(0,o.useCallback)(()=>{(0,r.loadSpace)("bb6a004a-8f03-4d2a-88fb-a63499d4591a").then(e=>{e.init(),e.logEvent("open_unity_feedback")})},[])},55763:function(e,t,n){n.d(t,{W:function(){return l}});var r=n(97458),o=n(48681),a=n(25350),c=n(10893);let l=e=>{let{onPurge:t,showModal:n,onShowModal:l,onCloseMultiSelect:s}=e,{t:u}=(0,c.$G)(["projects"]),i=()=>{l(!1),s&&s()};return(0,r.jsx)(o.u,{size:"xs",open:n,onOpenChange:i,children:(0,r.jsxs)("div",{className:"$flex $flex-col text-surface-foreground-0",children:[(0,r.jsxs)("div",{className:"$flex $flex-col $justify-center $items-center $gap-20",children:[(0,r.jsx)("h2",{className:"$sprinkles-text-xl $font-semibold",children:u("purgeModal.title")}),(0,r.jsx)("p",{children:u("purgeModal.body")})]}),(0,r.jsxs)("div",{className:"$flex $flex-row $gap-20 $justify-center $mt-20",children:[(0,r.jsx)(a.z,{size:"md",onClick:i,variant:"outline",className:"$border $border-grayHeather",children:u("purgeModal.buttons.cancel")}),(0,r.jsx)(a.z,{size:"md",onClick:()=>{l(!1),t()},variant:"primary",children:u("purgeModal.buttons.confirm")})]})]})})}},3506:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M428 231.5H317v-65c0-13.807-11.193-25-25-25H122c-13.807 0-25 11.193-25 25v65H-14c-13.807 0-25 11.193-25 25s11.193 25 25 25h25v306c0 35.841 29.159 65 65 65h262c35.841 0 65-29.159 65-65v-306h25c13.807 0 25-11.193 25-25s-11.193-25-25-25m-281-40h120v40H147zm206 396c0 8.271-6.729 15-15 15H76c-8.271 0-15-6.729-15-15v-306h292z"}),(0,r.jsx)("path",{d:"M150 341.5c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25m114 0c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25"})]})},25976:function(e,t,n){n.d(t,{_:function(){return o}});var r=n(52983);let o=(e,t,n)=>{let[o,a]=(0,r.useState)(()=>{try{let n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return null==n||n("Something went wrong while fetching data from Local Storage"),t}});return{storedValue:o,setValue:t=>{try{window.localStorage.setItem(e,JSON.stringify(t)),a(t)}catch(e){null==n||n("Something went wrong while setting data to Local Storage")}}}}},65508:function(e,t,n){n.d(t,{loadSpace:function(){return o}});let r=new Map,o=async(e,t)=>{if(!e)throw Error("Missing api key");r.has(e)||r.set(e,new Promise(n=>{let r=`usersnapCallback_${Math.random().toString().slice(2)}`;if(e){let o=t?`&n=${t}`:"",a=`//widget.usersnap.com/global/load/${e}?onload=${r}${o}`;if(!window[r]){window[r]=e=>(delete window[r],n(e));let e=document.createElement("script");e.defer=!0,e.nonce=t,e.onerror=()=>{throw Error("Wrong api key or paused project")},e.src=a,document.head.appendChild(e)}}}));let n=await r.get(e);return{init:async e=>{await n.init(e)},logEvent:async e=>{await n.logEvent(e)},show:async e=>await n.show(e),hide:async e=>{await n.hide(e)},destroy:async()=>{await n.destroy()},on:(e,t)=>{n.on(e,t)},off:(e,t)=>{n.off(e,t)}}}}}]);